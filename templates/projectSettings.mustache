<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"> 
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.png" />
    <title>{{projectShortname}}</title>
    <link rel="stylesheet" href='https://fonts.googleapis.com/css?family=Roboto:100' type='text/css'>
</head>

<body>

<div style="width:100%;height:100%;display:flex;flex-direction:column">
    
    <!-- Header (fixed height) -->
    <div style="flex:0 0 64px">
        <!-- Top-right menu bar -->
        <div id="menu">
            <img id="addProject" class="button" title="add project" src='/img/plus.svg'/>
            <a href="http://openneu.ro/metasearch" target="_blank"><img id="search" class="button" title="search" src='/img/search.svg'/></a>
            <img id="doc" class="button" title="documentation" src='/img/doc.svg'/>
            <a href="https://github.com/neuroanatomy/BrainBox/issues/new" target="_blank"><img id="bug" class="button" title="report a bug" src='/img/bug.svg'/></a>
            <a href="https://github.com/neuroanatomy" target="_blank"><img id="github" class="button" title="join our github project" style='width:15px;height:15px' src='/img/github.svg'/></a>
            <div id="MyLogin">
                <span>{{{login}}}</span>
            </div>
        </div>

        <!-- Small left-top logo -->
        <div style="display:inline-block;margin:10px">
            <a href='/' style="text-decoration:none">
                <img style='height:56px;vertical-align:middle' src='/img/brainbox-logo-small_noFont.svg'/>
            </a>
            <span style="font-family: Roboto, sans-serif; font-size: 36px; font-weight:100;vertical-align:middle" id="projectName" contentEditable=true class="noEmptyWithPlaceholder" placeholder="Enter a project name">
            </span>
        </div>
    </div>
    
    <!-- Content (variable height) -->
    <div id="content" style="flex:1 0 auto;justify-content:center;position:relative">
    
        <!-- to center -->
        <div id="centeringDiv">

                <div id="projImage">
                    <a href='/project/{{projectShortname}}'><svg width="100%" height="100%"></svg></a>
                </div>
                
                <div id="projDescription">
                    <a href='/project/{{projectShortname}}'><h1>{{projectShortname}}</h1></a>
                    <h2 id="url" contentEditable=true class="noEmptyWithPlaceholder" placeholder="Enter a project website"></h2>
                    <p>by <a href='/user/{{owner}}'>{{owner}}</a></p>
                    <p id="description" contentEditable=true class="noEmptyWithPlaceholder" placeholder="Enter a project description"></p>
                    <p><span id="numCollaborators"></span> Collaborators</p>
                    <p><span id="numAnnotations"></span> Annotations</p>
                    <p><span id="numFiles"></span> MRI Files</p>

                    <!-- Save or Cancel -->
                    <div style="display:block;margin:0 auto;width:200px">
                        <h2 id="saveChanges" class="pushButton">Save Changes</h2>
                        <h2 id="deleteProject" class="pushButton">Delete Project</h2>
                        <h2 id="goToProject" class="pushButton">Go to Project</h2>
                        <p id="saveFeedback"></p>
                    </div>
                </div>
                
                <div id="projTable">

                            <!-- Tab Content 1: Access -->
                            <h2 class="selection-header">Access</h2>
                            <table id="access" class="tabContent" style="padding:10px;display:table">
                                <thead>
                                    <tr>
                                        <th>Nickname</th>
                                        <th>Name</th>
                                        <th>Collaborators</th>
                                        <th>Annotations</th>
                                        <th>MRI Files</th>
                                    </tr>
                                </thead>
                                <tbody>
                                </tbody>
                            </table>
                            <div style="text-align:right">
                                <img id="addCollaborator" class="button" style="width:20px; height:20px; margin:8 2 0 0" src='/img/plus-square.svg' title='add collaborator'/>
                                <img id="removeCollaborator" class="button" style="width:20px; height:20px; margin:8 2 0 0" src='/img/minus-square.svg' title='remove collaborator'/>
                            </div>
                            
                            
                            <!-- Tab Content 2: Annotations -->
                            <h2 class="selection-header">Annotations</h2>
                            <table id="annotations" class="tabContent" style="padding:10px">
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>Type</th>
                                        <th>Value</th>
                                        <th>Display</th>
                                    </tr>
                                </thead>
                                <tbody>
                                </tbody>
                            </table>
                            <div style="text-align:right">
                                <img id="addAnnotation" class="button" style="width:20px; height:20px; margin:8 2 0 0" src='/img/plus-square.svg' title='add annotation'/>
                                <img id="removeAnnotation" class="button" style="width:20px; height:20px; margin:8 2 0 0" src='/img/minus-square.svg' title='remove annotation'/>
                            </div>

                            <!-- Tab Content 3: MRIs -->
                            <h2 class="selection-header">MRI Files</h2>
                            <table id="MRIFiles" class="tabContent" style="padding:10px">
                                <thead>
                                    <tr>
                                        <th>URL</th>
                                        <th>Name</th>
                                    </tr>
                                </thead>
                                <tbody>
                                </tbody>
                            </table>
                            <div style="text-align:right">
                                <img id="importFiles" class="button" style="width:20px; height:20px; margin:8 2 0 0" src='/img/upload-square.svg' title='upload csv'/>
                                <img id="exportFiles" class="button" style="width:20px; height:20px; margin:8 2 0 0" src='/img/download-square.svg' title='download csv'/>
                                <img id="addFile" class="button" style="width:20px; height:20px; margin:8 2 0 0" src='/img/plus-square.svg' title='add new url entry'/>
                                <img id="removeFile" class="button" style="width:20px; height:20px; margin:8 2 0 0" src='/img/minus-square.svg' title='remove url entry'/>
                            </div>
                </div>
        </div>
        <!-- end of centering div -->

    </div>
    <!-- End Content -->
    
    <!-- Space (fixed height) -->
    <div style="flex:0 0 50px">
    </div>

    <!-- Footer (fixed height) -->
    <div style="flex:0 0 100px;background-color:#000">
        <p style="width:100%;font-size:small;text-align:center"> 
            <a target="_blank" href="http://neuroanatomy.github.io">
                <img src="/img/naat-bw.svg" style="width:28px;height:28px;margin-right:4px;display:inline-block;vertical-align:middle"/></a>
            <a target="_blank" href="http://neuroanatomy.github.io" class="linkNoULine">
                groupe de neuroanatomie appliquée et théorique
            </a>
        </p>
    </div>
    
    <!-- Import files -->
    <!-- black overlay -->
    <div id='importFilesDialog' style='display:none;position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,0.7);z-index:100'>
        <!-- centered content -->
        <div style='position:relative;padding:1rem;margin:2rem auto;background-color:#333;max-width:600px;text-align:center;border:1px solid #777;height:calc(100% - 4rem);box-sizing:border-box'>
            <!-- overflow: scroll -->
            <div style='display:inline-block;max-width:600px;padding:2rem;overflow:scroll;max-height:calc(100% - 10rem)'>
                <table>
                    <thead>
                        <tr>
                            <th>URL</th>
                            <th>Name</th>
                        </tr>
                    <tbody>
                    </tbody>
                </table>
            </div>
            <!-- Import/Cancel buttons -->
            <div style="display:block;margin:0 auto;max-width:200px">
                <h2 id="importFilesDialogOk" class="pushButton">Import</h2>
                <h2 id="importFilesDialogCancel" class="pushButton">Cancel</h2>
            </div>
        </div>
    </div>
    
</div>

<script src="/lib/atlasMaker.js"></script>
<script src="/lib/brainbox.js"></script>
<script>
var projectInfo={{{projectInfo}}};
var projectShortname = "{{{projectShortname}}}";
</script>
<script src="/js/project-settings-page.js"></script>
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-50078058-2', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>
